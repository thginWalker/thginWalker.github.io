<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Web倒是可以给梦想者一个启示，你能够拥有梦想，而且梦想能够实现，网络是离你梦想最近的地方!"><title>菜鸟使用树莓派进行简易人脸识别(一) | 小小博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">菜鸟使用树莓派进行简易人脸识别(一)</h1><a id="logo" href="/.">小小博客</a><p class="description">每天进步一点点。</p></div><div id="nav-menu"><a href="/"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/life/"><i class="fa fa-video-camera"> 生活</i></a><a href="/special/"><i class="fa fa-file-pdf-o"> 专题</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">菜鸟使用树莓派进行简易人脸识别(一)</h1><div class="post-meta">May 17, 2017<span> | </span><span class="category"><a href="/categories/Python/">Python</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#介绍树莓派"><span class="toc-number">1.</span> <span class="toc-text">介绍树莓派</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#手把手教你如何用-OpenCV-Python-实现人脸识别"><span class="toc-number">1.1.</span> <span class="toc-text">手把手教你如何用 OpenCV + Python 实现人脸识别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#OpenCV的Python环境搭建"><span class="toc-number">1.2.</span> <span class="toc-text">OpenCV的Python环境搭建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#相关知识储备"><span class="toc-number">1.3.</span> <span class="toc-text">相关知识储备</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#代码的实现人脸识别"><span class="toc-number">1.4.</span> <span class="toc-text">代码的实现人脸识别</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python-OS模块常用功能中文图文详解"><span class="toc-number">2.</span> <span class="toc-text">Python OS模块常用功能中文图文详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python-time模块学习"><span class="toc-number">3.</span> <span class="toc-text">Python time模块学习</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python模块picamera"><span class="toc-number">4.</span> <span class="toc-text">Python模块picamera</span></a></li></ol></div></div><div class="post-content"><p>机缘巧合下参与了人工智能工作室项目”树莓派进行人脸识别”，因此可以好好研究一下Python了。<br><a id="more"></a><br>对于Python，只能既爱又恨了。爱的是Python的强大，恨的是可惜看了几本书没能学好Python的开发。原因也是有的，不敲代码看书就是没毛用。<br>不过这次”树莓派进行人脸识别”项目负责软件代码方面，所以必须认真理解代码学习Python。<br><a href="http://blog.csdn.net/jireren/article/details/52167791" target="_blank" rel="external">代码Demo参考</a><br>当然第一次接触这个Demo并没有认真理解清楚，所以我进行了以下的工作:</p>
<ul>
<li>介绍树莓派</li>
<li>手把手教你如何用 OpenCV + Python 实现人脸识别</li>
<li>Python OS模块常用功能中文图文详解</li>
<li>Python time模块学习</li>
<li>Python模块picamera</li>
</ul>
<h4 id="介绍树莓派"><a href="#介绍树莓派" class="headerlink" title="介绍树莓派"></a>介绍树莓派</h4><p><a href="http://baike.baidu.com/link?url=1WYrsq-uzPIqoXV6iZdRRLFdj-uLNZve6RJycGpVOM8pj6wbjaT6qkhRH1ZPMDB80il5YbXR4WruUZZJuOQkO_8U1t9AIeTnO823KkIK6fxAPPIY4c3dqMWgwpw06_PB" target="_blank" rel="external">借鉴</a><br>树莓派是一个职业信用卡大小的裸露电路板，它也是一个运行linux操作系统的完全可编程的PC系统。<br>当然在此，我们可以了解到可以完成大部分电脑能完成的事情:<code>编辑office文档</code>、<code>浏览网页</code>、<code>玩游戏</code>。<br>当然设置它的配件:<code>SD卡(预装系统)</code>、<code>USB键盘和鼠标</code>、<code>显示器</code>、<code>WiFi适配器(USB无线网卡)</code>…..其他就不说了，对硬件不感冒。<br>当然安装操作系统<br>准备工作和安装实战百科说的比较好哦！可以借鉴其他的。<br>启动成功的景象:</p>
<p><img src="/6.html/5d6034a85edf8db125dae65c0823dd54564e7416.jpg" alt="启动图片"><br>不要说对树莓派没什么了解，说实话，在写这篇博客之前我也从未接触过它，不过并不担心我们对它的了解。</p>
<h5 id="手把手教你如何用-OpenCV-Python-实现人脸识别"><a href="#手把手教你如何用-OpenCV-Python-实现人脸识别" class="headerlink" title="手把手教你如何用 OpenCV + Python 实现人脸识别"></a>手把手教你如何用 OpenCV + Python 实现人脸识别</h5><p><a href="http://www.leiphone.com/news/201704/rYdpAvh4SvgVPpRQ.html" target="_blank" rel="external">借鉴</a><br>这篇文章理解还是较简单的。无非三步:</p>
<ul>
<li>OpenCV的Python环境搭建</li>
<li>相关知识储备</li>
<li>代码的实现人脸识别</li>
</ul>
<h5 id="OpenCV的Python环境搭建"><a href="#OpenCV的Python环境搭建" class="headerlink" title="OpenCV的Python环境搭建"></a>OpenCV的Python环境搭建</h5><p><a href="http://blog.csdn.net/marksinoberg/article/details/52442229" target="_blank" rel="external">借鉴</a><br>对于菜鸟的我来说，先了解<code>OpenCV</code>要紧，没办法<code>百科</code>了个答案：<br>大概意思就是OpenCv是一个跨平台计算机视觉库。用C++编写实现的一些功能的。<br>笼统的说吧就是它可以进行<code>图像处理</code>和<code>视觉</code>操作，也就是让计算机有部分<code>视觉功能</code>吧!<br>当然今天我们主要使用<code>Python</code>来使用它。<br>首先只能安装OpenCV了，只能使用<code>pip</code>,什么还没安装，我也没有哦，看<a href="http://blog.csdn.net/u010128736/article/details/52713204" target="_blank" rel="external">借鉴</a>吧。</p>
<h5 id="相关知识储备"><a href="#相关知识储备" class="headerlink" title="相关知识储备"></a>相关知识储备</h5><p>Haar特征值反映了图像的灰度变化情况。<br>例如：脸部的一些特征能由矩形特征简单的描述，如：眼睛要比脸颊颜色要深，鼻梁两侧比鼻梁颜色要深，嘴巴比周围颜色要深等。<br><code>opencv api</code><br>要想使用opencv，就必须先知道其能干什么，怎么做。于是API的重要性便体现出来了。就本例而言，使用到的函数很少，也就普通的读取图片，灰度转换，显示图像，简单的编辑图像罢了。<br><code>读取图片</code><br>只需要给出待操作的图片的路径即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import cv2</div><div class="line">image = cv2.imread(imagepath)</div></pre></td></tr></table></figure></p>
<p><code>灰度转换</code><br>灰度转换的作用就是：转换成灰度的图片的计算强度得以降低。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import cv2</div><div class="line">gray = cv2.cvtColor(image,cv2.COLOR_BGR2GRAY)</div></pre></td></tr></table></figure></p>
<p><code>画图</code><br>opencv 的强大之处的一个体现就是其可以对图片进行任意编辑，处理。 下面的这个函数最后一个参数指定的就是画笔的大小。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import cv2</div><div class="line">cv2.rectangle(image,(x,y),(x+w,y+w),(0,255,0),2)</div></pre></td></tr></table></figure></p>
<p><code>显示图像</code><br>编辑完的图像要么直接的被显示出来，要么就保存到物理的存储介质。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import cv2</div><div class="line">cv2.imshow(&quot;Image Title&quot;,image)</div></pre></td></tr></table></figure></p>
<p><code>获取人脸识别训练数据</code><br>看似复杂，其实就是对于人脸特征的一些描述，这样opencv在读取完数据后很据训练中的样品数据，就可以感知读取到的图片上的特征，进而对图片进行人脸识别。<br>这里卖弄的这个xml文件，就是opencv在GitHub上共享出来的具有普适的训练好的数据。我们可以直接的拿来使用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import cv2</div><div class="line">face_cascade = cv2.CascadeClassifier(r&apos;./haarcascade_frontalface_default.xml&apos;)</div></pre></td></tr></table></figure></p>
<p><code>探测人脸</code><br>说白了，就是根据训练的数据来对新图片进行识别的过程。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">import cv2</div><div class="line"># 探测图片中的人脸</div><div class="line">faces = face_cascade.detectMultiScale(</div><div class="line">    gray,</div><div class="line">    scaleFactor = 1.15,</div><div class="line">    minNeighbors = 5,</div><div class="line">    minSize = (5,5),</div><div class="line">    flags = cv2.cv.CV_HAAR_SCALE_IMAGE</div><div class="line">)</div></pre></td></tr></table></figure></p>
<p>我们可以随意的指定里面参数的值，来达到不同精度下的识别。返回值就是opencv对图片的探测结果的体现。</p>
<p><code>处理人脸探测的结果</code><br>结束了刚才的人脸探测，我们就可以拿到返回值来做进一步的处理了。但这也不是说会多么的复杂，无非添加点特征值罢了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">import cv2</div><div class="line">print &quot;发现&#123;0&#125;个人脸!&quot;.format(len(faces))</div><div class="line">for(x,y,w,h) in faces:</div><div class="line">   cv2.rectangle(image,(x,y),(x+w,y+w),(0,255,0),2)</div></pre></td></tr></table></figure></p>
<h5 id="代码的实现人脸识别"><a href="#代码的实现人脸识别" class="headerlink" title="代码的实现人脸识别"></a>代码的实现人脸识别</h5><p><img src="http://static.leiphone.com/uploads/new/article/740_740/201704/5903040bf4146.jpg?imageMogr2/format/jpg/quality/90" alt="图片素材"></p>
<p>具体代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"># coding:utf-8</div><div class="line">import sys</div><div class="line">reload(sys)</div><div class="line">sys.setdefaultencoding(&apos;utf8&apos;)</div><div class="line">import cv2</div><div class="line"># 待检测的图片路径</div><div class="line">imagepath = r&apos;./heat.jpg&apos;</div><div class="line"># 获取训练好的人脸的参数数据，这里直接从GitHub上使用默认值</div><div class="line">face_cascade = cv2.CascadeClassifier(r&apos;./haarcascade_frontalface_default.xml&apos;)</div><div class="line"># 读取图片</div><div class="line">image = cv2.imread(imagepath)</div><div class="line">gray = cv2.cvtColor(image,cv2.COLOR_BGR2GRAY)</div><div class="line"># 探测图片中的人脸</div><div class="line">faces = face_cascade.detectMultiScale(</div><div class="line">    gray,</div><div class="line">    scaleFactor = 1.15,</div><div class="line">    minNeighbors = 5,</div><div class="line">    minSize = (5,5),</div><div class="line">    flags = cv2.cv.CV_HAAR_SCALE_IMAGE</div><div class="line">)</div><div class="line">print &quot;发现&#123;0&#125;个人脸!&quot;.format(len(faces))</div><div class="line">for(x,y,w,h) in faces:</div><div class="line">    # cv2.rectangle(image,(x,y),(x+w,y+w),(0,255,0),2)</div><div class="line">    cv2.circle(image,((x+x+w)/2,(y+y+h)/2),w/2,(0,255,0),2)</div><div class="line">cv2.imshow(&quot;Find Faces!&quot;,image)</div><div class="line">cv2.waitKey(0)</div></pre></td></tr></table></figure></p>
<p>输出结果:<br><img src="https://static.leiphone.com/uploads/new/article/740_740/201704/5903046d63e12.jpg?imageMogr2/format/jpg/quality/90" alt="输出结果"></p>
<p>代码理解:<br>就个人而言，上述代码在我的<code>IDE</code>里面运行时绝对有错误的。<br>不过嘛，有幸我还是完成的这个小小案例。<br>所有先贴上自己代码，然后就不用理解了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"># coding:utf-8</div><div class="line">import sys</div><div class="line">#reload(sys)</div><div class="line">#sys.setdefaultencoding(&apos;utf8&apos;)</div><div class="line">type = sys.getfilesystemencoding() #处理字符编码进行修改</div><div class="line"></div><div class="line">import cv2</div><div class="line">imagepath = r&apos;./1.jpg&apos;# 待检测的图片路径</div><div class="line"></div><div class="line"># 获取训练好的人脸的参数数据，这里直接从GitHub上使用默认值</div><div class="line">face_cascade = cv2.CascadeClassifier(r&apos;./haarcascade_frontalface_default.xml&apos;)</div><div class="line"></div><div class="line"># 读取图片</div><div class="line">image = cv2.imread(imagepath) </div><div class="line">gray = cv2.cvtColor(image,cv2.COLOR_BGR2GRAY)#灰化</div><div class="line"></div><div class="line"></div><div class="line">###探测图片中的人脸</div><div class="line">faces = face_cascade.detectMultiScale(</div><div class="line">    gray,#进行检测的图像，这里是转换后的</div><div class="line">    scaleFactor = 1.15,#距离相机不同的距离</div><div class="line">    minNeighbors = 5,#对检测点周边多少有效点</div><div class="line">    minSize = (5,5),#检测点的最小值，或者说就是检测点的最终值</div><div class="line">   #这个参数在新版的opencv是不需要的,暂时不管了,注释掉同样可以 </div><div class="line">   #flags = cv2.cv.CV_HAAR_SCALE_IMAGE#相反不1注释却有错</div><div class="line">)</div><div class="line">#设置参数，达到识别。返回值就是opencv对图片的探测结果的体现。</div><div class="line">print &quot;发现&#123;0&#125;个人脸！&quot;.decode(&apos;utf-8&apos;).encode(type).format(len(faces)) #记住人脸的数量</div><div class="line"></div><div class="line">for(x,y,w,h) in faces:</div><div class="line">    cv2.circle(image,((x+x+w)/2,(y+y+h)/2),w/2,(0,255,0),2)</div><div class="line">    #循环对人脸图片进行描绘</div><div class="line">  </div><div class="line">######个人测试数据</div><div class="line">#x = 150</div><div class="line">#y = 150</div><div class="line">#w = 150</div><div class="line">#######个人测试数据</div><div class="line">#cv2.rectangle(image,(x,y),(x+w,y+w),(0,255,0),2)# </div><div class="line">#######个人测试数据</div><div class="line"></div><div class="line"></div><div class="line">cv2.imshow(&quot;find image&quot;,image)#展现图片</div><div class="line">cv2.waitKey(0)#waitKey(0)表示这一帧在你按下任意键前始终显示</div></pre></td></tr></table></figure></p>
<p>没办法个人代码就是这样，应该可以理解了。<br>查看可<a href="https://my.oschina.net/chinesezhx/blog/520917" target="_blank" rel="external">借鉴</a></p>
<h4 id="Python-OS模块常用功能中文图文详解"><a href="#Python-OS模块常用功能中文图文详解" class="headerlink" title="Python OS模块常用功能中文图文详解"></a>Python OS模块常用功能中文图文详解</h4><p><a href="http://www.iplaypy.com/module/os.html" target="_blank" rel="external">借鉴</a><br> OS模块在我的理解中他就类似于其他语言的文件处理模块吧，无非一些函数接口让你可以操作文件和目录，是不是很酷。<br> 对于os我先不多介绍，只说明程序中需要理解的代码和基础模块而已。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">import os #导入os模块</div><div class="line">print os.getcwd()  #获取当前路径</div><div class="line">print os.listdir(&apos;/home/wwwroot&apos;) #列出目录下所有文件和文件夹</div><div class="line">print os.mkdir(&apos;heihei&apos;) #创建一个heihei的目录</div><div class="line">print os.rmdir(&apos;abc&apos;) #删除一个abc目录</div><div class="line">print os.rename(&apos;abc.txt&apos;,&apos;readme.txt&apos;) #重命名一个文件</div></pre></td></tr></table></figure></p>
<p>话说和linux命令查这么像呢，不管了。</p>
<h4 id="Python-time模块学习"><a href="#Python-time模块学习" class="headerlink" title="Python time模块学习"></a>Python time模块学习</h4><p><a href="http://python.jobbole.com/85491/" target="_blank" rel="external">借鉴</a><br>time模块是用于管理时间和日期的C库函数，这是因为它绑定到底层C实现，所有一些细节会基于具体的平台而不同。<br>说时间对于语言的时间我觉得就是烦，所有还是粗略了解。</p>
<ul>
<li><p>time()<br>返回纪元开始的秒数，返回为浮点数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;import time</div><div class="line">&gt;&gt;&gt;time.time()</div><div class="line">1495020286.013</div></pre></td></tr></table></figure>
</li>
<li><p>ctime()<br>返回友好的人类时间。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;import time</div><div class="line">&gt;&gt;&gt;time.ctime()</div><div class="line">&apos;Wed May 17 19:27:21 2017&apos;</div></pre></td></tr></table></figure>
</li>
<li><p>struct_time()<br>用这个可以分开存储时间的各个部分，感觉对我可爱极了。<br>gmtime()用于获取UTC(格林尼治)时间，localtime()用于获取当前时区的当前时间。</p>
</li>
<li>sleep()<br>说实话，这个就相当于定时器，规定间隔多长时间在运行下面代码。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import time</div><div class="line">time.sleep(5)</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Python模块picamera"><a href="#Python模块picamera" class="headerlink" title="Python模块picamera"></a>Python模块picamera</h4><p><a href="https://my.oschina.net/surenpi/blog/605526" target="_blank" rel="external">借鉴</a><br>单独理解<code>picamera</code>我还真不知道是什么，也可能就仅仅是一个Python模块吧！而它是用来操作树莓派摄像头的。<br>它的更多<a href="http://picamera.readthedocs.org/en/release-1.2/api.html" target="_blank" rel="external">API介绍</a><br>当然在此我还是不去深究那强悍的API介绍了。</p>
<hr>
<p>需修改</p>
<p><code>最简单的拍照</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">[codesyntax lang=&quot;python&quot;]</div><div class="line"></div><div class="line">!/usr/bin/python</div><div class="line"># from http://surenpi.com</div><div class="line"># raspberry camera python example</div><div class="line"></div><div class="line">import picamera</div><div class="line">import time</div><div class="line"></div><div class="line">cam = picamera.PiCamera()</div><div class="line">cam.vflip = True</div><div class="line">cam.capture(&apos;a.jpg&apos;)</div><div class="line">cam.close()</div><div class="line"></div><div class="line">print &apos;capture done.&apos;</div></pre></td></tr></table></figure></p>
<p>[/codesyntax]</p>
<p><code>录制视频</code></p>
<p>可以将视频保存到文件中或者其他地方，默认录制的时候是不会有预览的，可以通过调用start_preview函数来预览 [codesyntax lang=”python”]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">import picamera</div><div class="line"></div><div class="line">with picamera.PiCamera() as camera:</div><div class="line">	camera.resolution = (640, 480)</div><div class="line">	camera.start_preview()</div><div class="line"></div><div class="line">	camera.start_recording(&apos;suren.h264&apos;, format=&apos;h264&apos;, quantization=23, resize=(1024, 768))</div><div class="line">	camera.wait_recording(60)</div><div class="line">	camera.stop_recording()</div><div class="line"></div><div class="line">	camera.stop_preview()</div></pre></td></tr></table></figure></p>
<p>[/codesyntax] start_recording(output, format=None, resize=None, **options) start_recording的参数只是一个字符串的话，会被当作是文件名；如果是个对象的话，会回调这个实例对象的write方法 录制的文件格式默认为h264。wait_recording函数规定了录制的时长。 要想关闭红灯显示的话，可以设置camera.led = False。</p>
<p><strong>以上就是对人脸识别的小小见解。</strong></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://www.jb-hacker.top/6.html/" data-id="cjc4a6sec0012n4no6oc46apj" class="article-share-link">分享</a><div class="tags"><a href="/tags/Python/">Python</a><a href="/tags/人工智能/">人工智能</a></div><div class="post-nav"><a href="/7.html/" class="pre">菜鸟使用树莓派进行简易人脸识别(二)</a><a href="/5.html/" class="next">web网站从linux移植到windows server 2008</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C语言/">C语言</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络攻防/">网络攻防</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/Python，语音/" style="font-size: 15px;">Python，语音</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/网络技术/" style="font-size: 15px;">网络技术</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/人工智能/" style="font-size: 15px;">人工智能</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/17.html/">交换机的基本配置</a></li><li class="post-list-item"><a class="post-list-link" href="/19.html/">网络常用设备及介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/15.html/">C语言函数指针</a></li><li class="post-list-item"><a class="post-list-link" href="/16.html/">C语言命令行参数</a></li><li class="post-list-item"><a class="post-list-link" href="/14.html/">将python转换成可执行程序exe</a></li><li class="post-list-item"><a class="post-list-link" href="/12.html/">linux命令简单操作</a></li><li class="post-list-item"><a class="post-list-link" href="/11.html/">使用正则表达式完成文本替换</a></li><li class="post-list-item"><a class="post-list-link" href="/13.html/">学习书籍名单</a></li><li class="post-list-item"><a class="post-list-link" href="/9.html/">使用JS压缩用户上传图片</a></li><li class="post-list-item"><a class="post-list-link" href="/10.html/">Python文本如何转语音</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/thginWalker" title="github" target="_blank">github</a><ul></ul><a href="http://blog.csdn.net/xz2585458279" title="CSDN" target="_blank">CSDN</a><ul></ul><a href="https://stoneqi.github.io/" title="石头杨的小站" target="_blank">石头杨的小站</a><ul></ul><a href="http://sunxiaoning.me/" title="小宁博客" target="_blank">小宁博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">小小博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>